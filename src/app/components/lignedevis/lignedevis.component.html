
<mat-drawer-container class="wen-table-drawer-container">
  <mat-drawer class="default"   mode="over" position="start" #table_update_drawer  [opened]="is_table_opened()"
    disableClose="true">
    <section class="table-update">


      <form [formGroup]="table_update_form" (ngSubmit)="updateTableData()">
        <div class="table-update__body">

          <mat-form-field>
            <mat-label>
              N° POSTE
            </mat-label>
            <input matInput formControlName="poste" type="text" placeholder="N° POSTE">
          </mat-form-field>
          <mat-form-field>
            <mat-label>
              DESIGNATION
            </mat-label>
            <textarea matInput formControlName="designation" type="text" placeholder="DESIGNATION"> </textarea>
          </mat-form-field>

          <mat-form-field>
            <mat-label>
              UNITE
            </mat-label>
            <input matInput formControlName="unite" type="text" placeholder="UNITE">
          </mat-form-field>

          <mat-form-field>
            <mat-label>
              PRIX UNITAIRE
            </mat-label>
            <input matInput formControlName="prix_u" type="number" placeholder="PRIX UNITAIRE">
          </mat-form-field>

          <mat-form-field>
            <mat-label>
              QUANTITE
            </mat-label>
            <input matInput formControlName="quantite" type="number" placeholder="QUANTITE">
          </mat-form-field>
          

        </div>
        <div class="table-update__footer">
          <button mat-flat-button type="submit" color="primary" [disabled]="!table_update_form.valid">
            {{is_table_updated()?'Modifier':'Ajouter'}}
          </button>
          <button mat-flat-button (click)="annuler()" color="warn" type="button"> Annuler
          </button>
        </div>
      </form>

    </section>
  </mat-drawer>
  <mat-drawer-content >
    
    <div class="content_head">
      <h2>DEVIS PRESTATIONS</h2>
    </div>

    <div class="titre_devis">
    
    </div>
   
    <div class="content_body">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="poste">
          <th mat-header-cell *matHeaderCellDef>
            <span [style.paddingLeft.px]="40"> POSTE </span>
          </th>
          <td mat-cell *matCellDef="let data">
            <button mat-icon-button [style.visibility]="!data.expandable ? 'hidden' : ''"
              [style.marginLeft.px]="data.level * 32" (click)="treeControl.toggle(data)">
              <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(data) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
      
            {{data.poste}}
          </td>
        </ng-container>
      
      
        <ng-container matColumnDef="designation">
          <th mat-header-cell *matHeaderCellDef> DESIGNATION </th>
          <td mat-cell *matCellDef="let data"> {{data.designation}} </td>
        </ng-container>
      
        <ng-container matColumnDef="unite">
          <th mat-header-cell *matHeaderCellDef> UNITE </th>
          <td mat-cell *matCellDef="let data"> {{data.unite}} </td>
        </ng-container>
      
   
      
        <ng-container matColumnDef="prix_u">
          <th mat-header-cell *matHeaderCellDef> PRIX UNITAIRE </th>
          <td mat-cell *matCellDef="let data"> {{data.prix_u}} </td>
        </ng-container>

        <ng-container matColumnDef="quantite">
          <th mat-header-cell *matHeaderCellDef> QUANTITE </th>
          <td mat-cell *matCellDef="let data"> {{data.quantite}} </td>
        </ng-container>

        <ng-container matColumnDef="montant">
          <th mat-header-cell *matHeaderCellDef> MONTANT </th>
          <td mat-cell *matCellDef="let data"> {{data.montant}} </td>
        </ng-container>
      
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let data">
            <button mat-icon-button (click)="modif(data)"> <mat-icon> edit</mat-icon> </button>
            <button mat-icon-button (click)="addrow(data)"> <mat-icon> add</mat-icon> </button>
            <button mat-icon-button (click)="delete(data)"> <mat-icon> delete</mat-icon> </button>
          </td>
        </ng-container>
      
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;let ind=index " ></tr>
      </table>
    </div>
   
  </mat-drawer-content>

</mat-drawer-container>

