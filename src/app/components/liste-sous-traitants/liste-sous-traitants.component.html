<mat-drawer-container class="wen-table-drawer-container">
    <mat-drawer mode="over" position="end" #table_update [opened]="is_table_being_updated" disableClose="true">
        <section class="table-update">
            <form [formGroup]="table_update_form" (ngSubmit)="updateTableData()">
                <header class="table-update__header">
                    <h2 class="h3">{{is_new_row_being_added? 'Créer sous-traitant' : 'Modifier sous-traitant'}}</h2>
                </header>

                <app-saisi [parent_FG]="table_update_form" control_name="entreprise" label="NOM ENTREPRISE"
                    [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="enseigne" label="NOM ENSEIGNE" [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="adresse" label="ADRESSE"
                    [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="nom_responsable" label="NOM RESPONSABLE"
                    [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="prenom_responsable" label="PRENOM RESPONSABLE"
                    [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="phone" label="N° TELEPHONE" [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="rccm" label="N° RCCM" [type]="text1">
                </app-saisi>

                <app-saisi [parent_FG]="table_update_form" control_name="ifu" label="N° IFU" [type]="text1">
                </app-saisi>
                <app-saisi [parent_FG]="table_update_form" control_name="date_naissance" label="DATE DE NAISSANCE"
                    [type]="text1">
                </app-saisi>
                <app-saisi [parent_FG]="table_update_form" control_name="lieu_naissance" label="LIEU DE NAISSANCE"
                    [type]="text1">
                </app-saisi>
                <app-saisi [parent_FG]="table_update_form" control_name="num_cnib" label="N° CNIB"
                    [type]="text1">
                </app-saisi>

                <div class="table-update__footer">
                    <button mat-raised-button color="primary-darkry" color="warn" type="button"
                        (click)="annuler()">Annuler</button>
                    <button mat-raised-button class="primary-button" color="primary" type="submit"
                        [disabled]="!table_update_form.valid">{{is_new_row_being_added?"Enregistrer":"Modifier"}}</button>
                </div>
            </form>

        </section>


    </mat-drawer>
    <mat-drawer-content>
        <div class="content_head">
            <h2> Liste des sous-traitants</h2>
        </div>
        <div class="content_add_button">
            <button (click)="addsstraitant()" mat-raised-button matTooltip="Ajouter nouveau" matTooltipPosition="left"
                aria-label="Add New Row" color="primary">
                <span class="material-icons">
                    playlist_add
                </span>
            </button>
        </div>

        <table mat-table [dataSource]="datasource" class="wen-table">

            <ng-container matColumnDef="entreprise">
                <th mat-header-cell *matHeaderCellDef> ENTREPRISE

                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.entreprise}}
                </td>
            </ng-container>

            <ng-container matColumnDef="nom">
                <th mat-header-cell *matHeaderCellDef> NOM RESPONSABLE

                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.nom_responsable}}
                </td>
            </ng-container>

            <ng-container matColumnDef="prenom">
                <th mat-header-cell *matHeaderCellDef> PRENOM RESPONSABLE
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.prenom_responsable}}
                </td>
            </ng-container>

            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> N° TELEPHONE
                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.phone}}
                </td>
            </ng-container>

            <ng-container matColumnDef="rccm">
                <th mat-header-cell *matHeaderCellDef> N° RCCM

                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.rccm}}
                </td>
            </ng-container>

            <ng-container matColumnDef="ifu">
                <th mat-header-cell *matHeaderCellDef> N° IFU

                </th>
                <td mat-cell *matCellDef="let element">
                    {{element.ifu}}
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let row;index as i">
                    <button mat-icon-button (click)="editsstraitant(row)"><mat-icon>edit</mat-icon></button>
                    <button mat-icon-button (click)="deletesstraitant(row)"><mat-icon>delete</mat-icon></button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;let index = index"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[20, 40, 60,80,100]" aria-label="Select page of users"></mat-paginator>

    </mat-drawer-content>
</mat-drawer-container>